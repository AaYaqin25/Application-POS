<%- include('../partials/header')%>
    <title>
        <%= currentPage %>
    </title>
    <div class="container">
        <strong>
            <h2>Goods</h2>
        </strong>
        <div class="card">
            <div class="card-header">
                <div class="header">
                    <h4 style="color:blue ;">Form edit</h4>
                </div>
            </div>
            <div class="card-body">

                <form action="" method="post" encType="multipart/form-data">

                    <div class="row mb-3">
                        <label for="barcode" class="col-sm-2 col-form-label">Barcode</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="barcode" name="barcode" value="<%= data.barcode%>" disabled>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <label for="name" class="col-sm-2 col-form-label">Name</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="name" name="name" required value="<%= data.name%>">
                        </div>
                    </div>

                    <div class="row mb-3">
                        <label for="stock" class="col-sm-2 col-form-label">Stock</label>
                        <div class="col-sm-10">
                            <input type="number" class="form-control" id="stock" name="stock" required value="<%= data.stock%>">
                        </div>
                    </div>

                    <div class="row mb-3">
                        <label for="purchaseprice" class="col-sm-2 col-form-label">Purchase Price</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="purchaseprice" name="purchaseprice" step="any" required value="<%= data.purchaseprice%>">
                        </div>
                    </div>

                    <div class="row mb-3">
                        <label for="sellingprice" class="col-sm-2 col-form-label">Selling Price</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="sellingprice" name="sellingprice" step="any" required value="<%= data.sellingprice%>">
                        </div>
                    </div>

                    <div class="row mb-3">
                        <label for="unit" class="col-sm-2 col-form-label">Unit</label>
                        <div class="col-sm-10">
                            <select class="form-control" id="unit" name="unit">
                                <option value="" selected hidden disabled><%= data.unit %></option>
                                <% value.forEach(item=> {%>
                                    <option value="<%= item.unit %>">
                                        <%= item.name %> 
                                    </option>
                                    <% }) %>
                            </select>
                        </div>
                    </div>

                    <div class="row mb-3 ">
                        <label for="picture" class="col-sm-2 col-form-label">Picture</label>
                        <div class="col-sm-10">
                            <div class="custom-file">
                                <label class="custom-file-label" for="picture">Choose file</label>
                                <input type="file" class="custom-file-input" id="picture" name="picture">
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mb-3 ">
                        <label for="preview" class="col-sm-2 col-form-label">Preview</label>
                        <div class="col-sm-3">
                                <img id="imagepreview" src="/images/<%= data.picture%>">
                        </div>
                    </div>

            </div>

            <div class="card-footer">
                <button type="submit" class="btn btn-success"> <i class="fas fa-solid fa-database"></i>
                    Save</button>
                <a href="/goods" class="btn btn-warning"> <i class=" fa fa-solid fa-undo"></i> Back </a>
            </div>
            </form>
        </div>
    </div>

    <script>
        $('#picture').change(function () {
            const [files] = picture.files

            if (files) {
                imagepreview.src = URL.createObjectURL(files)
            }
        })
    </script>
    <%- include('../partials/footer')%>